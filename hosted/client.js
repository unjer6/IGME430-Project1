(()=>{let e;const t=async t=>{if(204===t.status)return;const n=await t.json();console.log(n),n&&(e.innerHTML+=`<p>Message: ${n.message}</p>`)},n=async t=>{const n=await t.json();console.log(n),404!==t.status&&400!==t.status?n&&n.names?e.innerHTML+=`<p>${JSON.stringify(n.names)}</p>`:n&&n.items&&(e.innerHTML+=`<p>${JSON.stringify(n.items)}</p>`):n&&(e.innerHTML+=`<p>Message: ${n.message}</p>`)},r=async(t,n,r,s,i)=>{const a={method:n,headers:{Accept:"application/json"}};s&&(a.body=s),i&&(a.headers["Content-Type"]=i);let o=await fetch(t,a);(t=>{switch(t.status){case 200:e.innerHTML="<b>Success</b>";break;case 201:e.innerHTML="<b>Created</b>";break;case 204:e.innerHTML="<b>Updated (No Content)</b>";break;case 400:e.innerHTML="<b>Bad Request</b>";break;case 404:e.innerHTML="<b>Not Found</b>";break;default:e.innerHTML="Error code not implemented by client."}})(o),r?.(o)};window.onload=()=>{e=document.querySelector("#content");const s=document.querySelector("#listNameForm");s.addEventListener("submit",(e=>{e.preventDefault();const t=s.getAttribute("action"),i=s.getAttribute("method");return r(t,i,n),!1}));const i=document.querySelector("#listForm");i.addEventListener("submit",(e=>{e.preventDefault();const t=i.getAttribute("action"),s=i.getAttribute("method"),a=i.querySelector("#nameField").value;return r(`${t}?name=${a}`,s,n),!1}));const a=document.querySelector("#addForm");a.addEventListener("submit",(e=>{e.preventDefault();const n=a.getAttribute("action"),s=a.getAttribute("method"),i=a.querySelector("#nameField").value,o=a.querySelector("#item1Field").value.trim(),c=a.querySelector("#item2Field").value.trim(),u=a.querySelector("#item3Field").value.trim(),m={name:i,items:[]};return o&&m.items.push(o),c&&m.items.push(c),u&&m.items.push(u),r(n,s,t,JSON.stringify(m),"application/json"),!1}))}})();